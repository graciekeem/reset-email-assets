<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <title>ê³µìœ  ë§í¬ ë³µì‚¬ ì¤‘...</title>
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <style>
    body {
      margin:0;
      padding:40px 16px;
      background:#0a0d0a;
      color:#e6fff3;
      font-family: system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
      text-align:center;
      font-size:14px;
      line-height:1.6;
    }
    .box {
      max-width:360px;
      margin:0 auto;
      padding:20px 16px;
      border-radius:8px;
      border:1px solid #15ff99;
      box-shadow:0 0 18px rgba(21,255,153,0.25);
      background:#050806;
    }
    .btn {
      display:inline-block;
      margin-top:12px;
      padding:10px 16px;
      border-radius:6px;
      border:1px solid #15ff99;
      background:#111b17;
      color:#b8ffe6;
      text-decoration:none;
      font-size:14px;
    }
    .btn-secondary {
      border-color:#3c4a44;
      background:#050806;
      color:#9cffdd;
      margin-top:8px;
    }
    .url {
      margin-top:10px;
      padding:8px 10px;
      border-radius:4px;
      background:#020504;
      font-size:12px;
      word-break:break-all;
      color:#b8ffe6;
    }
  </style>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      // ğŸ”¥ ë³µì‚¬í•  ë§í¬ (ì‚¬ì „ì˜ˆì•½ ëœë”©)
      const copyUrl   = "https://supercandi.figma.site/";
      // ğŸ”¥ ë³µì‚¬ í›„ ëŒì•„ê°ˆ í˜ì´ì§€ (ì—”ë“œí˜ì´ì§€)
      const returnUrl = "https://supercandi.figma.site/end";

      const fallbackBox   = document.getElementById("fallback");
      const urlSpan       = document.getElementById("share-url");
      const statusText    = document.getElementById("status-text");

      function backToEndPage() {
        // ê°€ëŠ¥í•˜ë©´ ì´ì „ í˜ì´ì§€(/end)ë¡œ history ì‚¬ìš©í•´ì„œ ë³µê·€
        if (window.history.length > 1) {
          window.history.back();
        } else {
          window.location.href = returnUrl;
        }
      }

      function showFallback() {
        // ìˆ˜ë™ ë³µì‚¬ ì•ˆë‚´ UI í‘œì‹œ
        urlSpan.textContent = copyUrl;
        fallbackBox.style.display = "block";
        statusText.textContent = "ìë™ ë³µì‚¬ê°€ ì˜ ì•ˆ ë˜ëŠ” ë¸Œë¼ìš°ì €ì…ë‹ˆë‹¤.";
      }

      // ìˆ˜ë™ ë³µì‚¬ ë²„íŠ¼ì—ì„œ í˜¸ì¶œ
      window.manualCopy = function () {
        if (navigator.clipboard && navigator.clipboard.writeText) {
          navigator.clipboard.writeText(copyUrl)
            .then(() => {
              alert("ì‚¬ì „ì˜ˆì•½ ë§í¬ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!\nSNSì— ë¶™ì—¬ë„£ì–´ ê³µìœ í•´ ì£¼ì„¸ìš”!");
              backToEndPage();
            })
            .catch(() => {
              alert("ê·¸ë˜ë„ ë³µì‚¬ê°€ ì•ˆ ë˜ë©´,\nì•„ë˜ ë§í¬ë¥¼ ê¸¸ê²Œ ëˆŒëŸ¬ ì§ì ‘ ë³µì‚¬í•´ ì£¼ì„¸ìš”.");
            });
        } else {
          alert("ì•„ë˜ ë§í¬ë¥¼ ê¸¸ê²Œ ëˆŒëŸ¬ ì§ì ‘ ë³µì‚¬í•´ ì£¼ì„¸ìš”.");
        }
      };

      // ğŸ”¥ í˜ì´ì§€ ì§„ì… ì‹œ 1íšŒ ìë™ ë³µì‚¬ ì‹œë„
      if (navigator.clipboard && navigator.clipboard.writeText) {
        navigator.clipboard.writeText(copyUrl)
          .then(() => {
            alert("ì‚¬ì „ì˜ˆì•½ ë§í¬ê°€ ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!\nSNSì— ë¶™ì—¬ë„£ì–´ ê³µìœ í•´ ì£¼ì„¸ìš”!");
            backToEndPage();
          })
          .catch(() => {
            // ìë™ ë³µì‚¬ ì‹¤íŒ¨ â†’ ìˆ˜ë™ ë³µì‚¬ UI ë…¸ì¶œ
            showFallback();
          });
      } else {
        // ì•„ì˜ˆ clipboard APIë¥¼ ì§€ì›í•˜ì§€ ì•ŠëŠ” ê²½ìš°
        showFallback();
      }
    });
  </script>
</head>
<body>
  <div class="box">
    <div id="status-text">ê³µìœ  ë§í¬ë¥¼ ë³µì‚¬í•˜ëŠ” ì¤‘ì…ë‹ˆë‹¤...</div>

    <!-- ìë™ ë³µì‚¬ ì‹¤íŒ¨ ì‹œ ë³´ì´ëŠ” ì˜ì—­ -->
    <div id="fallback" style="display:none;">
      <div class="url" id="share-url"></div>
      <a href="javascript:manualCopy()" class="btn">
        ë‹¤ì‹œ í•œ ë²ˆ ë³µì‚¬ ì‹œë„í•˜ê¸° ğŸ”—
      </a>
      <br>
      <a href="https://supercandi.figma.site/end" class="btn btn-secondary">
        ì—”ë“œí˜ì´ì§€ë¡œ ëŒì•„ê°€ê¸°
      </a>
    </div>
  </div>
</body>
</html>
